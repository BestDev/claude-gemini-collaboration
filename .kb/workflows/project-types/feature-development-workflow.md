# 신규 기능 개발 워크플로우

## 특징
- **우선순위**: 중간-높음
- **사용자 개입**: 높음 (모든 주요 결정점)
- **위험도**: 높음 (새로운 복잡성 도입)

## 단계별 프로세스

### 1. 사용자 요청 (요구사항 수집)
```
예시: "사용자가 주문 내역을 PDF로 다운로드할 수 있는 기능을 추가해줘"
```

### 2. Gemini 요구사항 분석 (15-30분)
**분석 항목:**
- [ ] 비즈니스 요구사항 명확화
- [ ] 기술적 실현 가능성 평가
- [ ] 기존 시스템과의 호환성 검토
- [ ] 필요한 기술 스택 조사
- [ ] 예상 개발 시간 산정

**출력물:**
- 요구사항 분석서
- 기술적 접근 방안 3가지
- 개발 일정 계획

### 3. 사용자 승인 1단계 (방향성 결정)
**검토 항목:**
- [ ] 요구사항 이해도 확인
- [ ] 기술적 접근 방안 선택
- [ ] 개발 우선순위 조정
- [ ] 마일스톤 설정

### 4. Gemini 상세 설계 (30-60분)
**설계 문서 포함 요소:**
- API 명세 (엔드포인트, 파라미터)
- 데이터베이스 스키마 변경
- UI/UX 요구사항
- 외부 라이브러리 의존성
- 보안 고려사항
- 성능 요구사항

**출력물:**
- 상세 설계 문서
- API 명세서 초안
- 데이터 모델 다이어그램

### 5. 사용자 승인 2단계 (설계 검토)
**검토 항목:**
- [ ] 설계 완성도 확인
- [ ] 비즈니스 로직 일치성
- [ ] 확장성 고려사항
- [ ] 보안 요구사항 충족

### 6. Gemini 구현 명세서 작성
**명세서 구성:**
- 단계별 구현 계획
- 각 단계별 완료 기준
- 테스트 전략
- 롤백 계획
- Claude 작업 지시서

### 7. 사용자 승인 3단계 (구현 계획)
**검토 항목:**
- [ ] 구현 단계의 적절성
- [ ] 테스트 전략 승인
- [ ] 배포 계획 확인

### 8. Claude 단계적 구현
**Phase 1: 기반 구조**
- [ ] 필요한 의존성 추가
- [ ] 데이터베이스 마이그레이션
- [ ] 기본 모델/엔티티 생성

**Phase 2: 핵심 로직**
- [ ] 비즈니스 로직 구현
- [ ] API 엔드포인트 개발
- [ ] 데이터 처리 로직

**Phase 3: 통합 및 테스트**
- [ ] 프론트엔드 연동 (필요시)
- [ ] 통합 테스트 작성
- [ ] 성능 테스트

### 9. 중간 검토 (각 Phase 완료 후)
**Claude → Gemini 보고:**
- 완료된 기능 데모
- 발견된 이슈 및 해결 방안
- 다음 단계 진행 가능성

**Gemini → 사용자 보고:**
- 진행 상황 요약
- 변경사항 알림
- 추가 요구사항 확인

### 10. 최종 검증 및 배포 준비
**품질 검증:**
- [ ] 전체 기능 테스트
- [ ] 성능 벤치마크
- [ ] 보안 검증
- [ ] 코드 리뷰 완료

**배포 준비:**
- [ ] 배포 가이드 작성
- [ ] 롤백 계획 수립
- [ ] 모니터링 설정

### 11. 사용자 최종 승인
**검토 항목:**
- [ ] 요구사항 충족도
- [ ] 품질 기준 달성
- [ ] 배포 준비 완료

## Subagents 활용 전략

### Phase별 Subagents 활용
**Phase 1 (기반 구조)**
- **general-purpose**: 기존 코드 구조 분석
- **statusline-setup**: 개발 환경 설정

**Phase 2 (핵심 로직)**  
- **TestGenerator**: TDD 테스트 케이스 생성
- **SecurityAuditor**: 보안 취약점 검사

**Phase 3 (통합 및 테스트)**
- **TestGenerator**: 통합 테스트 자동 생성
- **general-purpose**: 성능 최적화 포인트 분석

## 문서화 요구사항

### 자동 생성 문서
- `.kb/design/[기능명]/requirements.md`
- `.kb/design/[기능명]/architecture.md`
- `.kb/design/api-specs/[API명].md`

### 세션 기록
- `.kb/sessions/daily/YYYY-MM-DD-[기능명].md`
- `.kb/sessions/milestones/[기능명]-milestone-[N].md`

## 품질 기준

### 기능 품질
- [ ] 모든 요구사항 구현
- [ ] 에러 처리 완료
- [ ] 사용자 피드백 반영
- [ ] 성능 기준 충족

### 코드 품질
- [ ] 테스트 커버리지 80% 이상
- [ ] 코딩 컨벤션 준수
- [ ] 문서화 완료
- [ ] 보안 기준 통과

### 프로젝트 품질
- [ ] 기술 부채 최소화
- [ ] 확장성 고려
- [ ] 유지보수성 확보

## 위험 관리

### 일반적 위험요소
- **범위 확산**: 요구사항 변경으로 인한 일정 지연
- **기술적 복잡성**: 예상보다 어려운 구현
- **통합 이슈**: 기존 시스템과의 충돌

### 위험 대응 전략
- **단계적 구현**: 위험 조기 발견
- **지속적 커뮤니케이션**: 사용자와의 정기적 확인
- **롤백 계획**: 문제 발생 시 빠른 복구

## 성공 지표
- **일정 준수율**: 95% 이상
- **요구사항 충족도**: 100%
- **버그 발생률**: 마일스톤당 5개 미만
- **사용자 만족도**: 4점 이상 (5점 만점)