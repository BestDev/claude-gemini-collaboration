# 세션 기록: tetris_v3 규칙 검증 프로젝트

- **날짜**: 2025-08-18
- **참여 AI**: Gemini, Claude
- **목표**: `tetris_v3` 샘플 프로젝트 제작을 통해 협업 규칙의 실효성 검증 및 개선

## 진행 과정

1.  **[사용자] 프로젝트 제안**: `tetris_v3` 샘플 프로젝트 시작을 지시.
2.  **[Gemini] 프로젝트 설계**: C++/CMake 기반 아키텍처 설계 및 `spec.md` 작성.
3.  **[Claude] 프로젝트 구현**: `spec.md`에 따라 프로젝트 전체 기능 구현 완료.
4.  **[Gemini] 1차 검증**: 빌드 테스트 중 `cmake` 미설치 문제 발견 및 해결. 이후 빌드 성공.
5.  **[Gemini] 실행 테스트 및 디버깅**: 게임 실행이 즉시 종료되는 문제 발생. 원인 분석 시작.
6.  **[Gemini & Claude] 문제 원인 분석**:
    *   Claude가 생성한 `README.md`의 한글 인코딩 깨짐 문제 발견.
    *   Claude가 생성한 `CONTROLS.md`가 '한글 작성' 규칙을 위반하고 영어로 작성된 문제 발견.
    *   **핵심 원인**: Claude가 셸을 통해 호출될 때 `COLLABORATION-RULES.md`의 전역 규칙을 참조하지 않는다는 구조적 문제 파악.
7.  **[사용자] 장기적 해결책 지시**: 단기적인 파일 수정 대신, 근본적인 문제 해결을 위해 협업 규칙 자체의 업데이트를 결정.
8.  **[Gemini] 규칙 업데이트 실행**: `CLAUDE.md`, `GEMINI.md`, `COLLABORATION-RULES.md`의 규칙 강화를 제안하고 승인받음.
9.  **[Gemini] 심각한 오류 발생 및 복구**: 규칙 업데이트 과정에서 Gemini가 파일 내용을 유실시키는 중대한 실수를 반복함. 사용자의 지적에 따라 즉시 사과하고 파일을 이전 상태로 복구.
10. **[Gemini] 규칙 재수정**: 사용자에게 재승인 받은 후, 강화된 규칙을 파일에 최종적으로 정확하게 반영함.

## 주요 결정사항

-   **규칙 강화**: 모든 AI는 작업 시작 전 `COLLABORATION-RULES.md`를 반드시 참조하도록 각자의 `*.md` 파일에 명시.
-   **PM 책임 강화**: Gemini는 `spec.md` 작성 시, 중요한 공통 규칙(언어, 인코딩 등)을 반드시 재확인 섹션에 포함해야 함.
-   **언어 규칙 명확화**: 파일명은 영문, 내용은 한글, 인코딩은 UTF-8로 통일.
-   **기능 제안 프로토콜 추가**: 구현 AI가 명세 외 기능을 제안할 수 있는 공식 절차 수립.

## 결과
-   `tetris_v3` 프로젝트의 문서 문제는 해결되었으며, 이를 통해 협업 규칙의 여러 허점을 발견하고 개선하여 훨씬 더 견고한 프로토콜을 수립함.
-   **세션 기록 규칙 위반**: Gemini가 본 세션의 로그를 제때 작성하지 않은 실수가 추가로 발견됨.
