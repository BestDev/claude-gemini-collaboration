# 작업 명세서: C++ 테트리스 게임

## 기본 정보
- **작성자**: Gemini CLI
- **작성일**: 2025-08-15
- **대상**: Claude Code
- **프로젝트**: C++ 테트리스 게임
- **요청자**: bestdev

## 작업 개요
### 목표
C++와 `ncurses` 라이브러리를 사용하여 터미널에서 실행되는 기능적인 테트리스 게임을 제작한다.

### 배경
`GEMINI.md` v1.0 프로토콜의 완전성을 검증하기 위한 세 번째 샘플 프로젝트. 다중 파일 구조, 외부 라이브러리 의존성, 빌드 자동화 등 더 복잡한 시나리오를 테스트한다.

## 1. 프로젝트 구조

언어(C++)에 맞는 표준 폴더 구조를 다음과 같이 정의한다:
```
/
├── src/                     # 소스 파일
│   ├── main.cpp
│   ├── board.cpp
│   └── piece.cpp
├── include/                 # 헤더 파일
│   ├── board.h
│   └── piece.h
└── Makefile                 # 빌드 스크립트
```

## 2. 상세 요구사항

### 기능 요구사항
1.  **게임 보드**: 10x20 크기의 게임 보드를 표시한다.
2.  **테트리스 조각 (테트로미노)**: 7가지 표준 테트리스 조각(I, O, T, J, L, S, Z)이 구현되어야 한다.
3.  **조각 생성 및 낙하**: 새로운 조각이 보드 상단 중앙에서 나타나 일정한 속도로 아래로 떨어진다.
4.  **사용자 입력 (비동기)**: `ncurses` 라이브러리를 사용하여, 조각이 떨어지는 동안에도 사용자의 키 입력을 받아 즉시 반응해야 한다.
    - **왼쪽/오른쪽 화살표**: 조각을 좌/우로 한 칸 이동.
    - **아래쪽 화살표**: 조각을 한 칸 더 빨리 내림 (소프트 드롭).
    - **위쪽 화살표**: 조각을 시계 방향으로 90도 회전.
    - **'q' 키**: 게임 즉시 종료.
5.  **충돌 처리**: 조각이 바닥이나 다른 쌓인 조각에 닿으면 그 자리에 고정된다.
6.  **줄 제거**: 가로 한 줄이 조각으로 완전히 채워지면, 해당 줄이 사라지고 위의 블록들이 한 칸씩 아래로 내려온다.
7.  **점수 계산**: 줄 제거 시 점수를 획득한다 (예: 1줄=100점, 2줄=300점 등).
8.  **게임 오버**: 새로운 조각이 나타나는 위치에 이미 블록이 쌓여 있어 더 이상 조각을 놓을 수 없으면 게임이 종료된다.

### 비기능 요구사항
- **환경**: C++11 이상, `g++` 컴파일러, `ncurses` 라이브러리
- **플랫폼**: `ncurses`가 지원되는 모든 터미널 환경 (Linux, macOS 등)

## 3. 기술적 제약사항
- **언어**: C++ (C++11 이상 표준)
- **외부 의존성**: `ncurses` (키보드 입력 및 화면 제어용)

## 4. 구현 가이드

### `Makefile` 내용 (예시)
```Makefile
CXX = g++
CXXFLAGS = -std=c++11 -Wall
LDFLAGS = -lncurses

TARGET = tetris

SRCS = src/main.cpp src/board.cpp src/piece.cpp
OBJS = $(SRCS:.cpp=.o)

all: $(TARGET)

$(TARGET): $(OBJS)
	$(CXX) $(CXXFLAGS) -o bin/$(TARGET) $(OBJS) $(LDFLAGS)

.cpp.o:
	$(CXX) $(CXXFLAGS) -Iinclude -c $< -o $@

clean:
	rm -f bin/$(TARGET) $(OBJS)
```
- 컴파일된 실행 파일은 `bin/` 폴더에 생성되도록 한다. (따라서 `bin/` 폴더 생성 필요)

## 5. 완료 기준
- [X] 위에 정의된 모든 폴더와 파일(`Makefile`, `.h`, `.cpp`)이 생성되어야 함.
- [X] `make` 명령어로 오류 없이 컴파일되어 `bin/tetris` 실행 파일이 생성되어야 함.
- [X] `./bin/tetris` 실행 시, 모든 기능 요구사항이 정상 동작해야 함.

---
**승인 후 Claude Code에서 구현을 시작합니다.**
