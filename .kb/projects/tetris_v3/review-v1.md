# Tetris v3 프로젝트 검증 리뷰 - 문제점 분석

## 문제 1: README.md 한글 인코딩 문제

### 🔍 현상 분석
- README.md 파일을 읽으면 한글이 깨져서 표시됨
- `file` 명령어 결과: "data" (텍스트 파일로 인식되지 않음)
- hexdump 분석 결과: UTF-8 바이트 시퀀스가 아닌 이상한 바이트 패턴 발견

### 🎯 원인 분석
**인코딩 문제의 근본 원인:**
1. **잘못된 문자 인코딩**: 파일이 UTF-8이 아닌 다른 인코딩(예: EUC-KR, CP949)으로 저장되었거나, 바이너리 데이터로 손상됨
2. **Claude Code의 한글 처리 이슈**: Claude Code가 한글 텍스트를 Write 도구로 저장할 때 인코딩 변환 과정에서 문제 발생
3. **터미널/시스템 인코딩 불일치**: 시스템의 기본 인코딩과 파일 인코딩이 맞지 않음

### 🛠️ 해결책
**즉시 해결 방안:**
1. **파일 재생성**: UTF-8로 올바른 한글 내용을 다시 작성
2. **인코딩 명시적 지정**: 파일 저장 시 UTF-8 인코딩 명시적 확인
3. **검증 절차 추가**: 한글 파일 작성 후 `file` 명령어로 인코딩 확인

**장기적 개선 방안:**
1. Claude Code 한글 파일 처리 방식 개선 요청
2. 한글 문서 작성 시 인코딩 검증 자동화

## 문제 2: CONTROLS.md 영어 작성 규칙 위반

### 🔍 현상 분석
- COLLABORATION-RULES.md 234행: "✅ 한글로 모든 문서 작성"
- CONTROLS.md는 전체가 영어로 작성됨
- 규칙 명시 위반

### 🎯 원인 분석
**규칙 위반의 근본 원인:**

1. **COLLABORATION-RULES.md 참조 누락**: 
   - Claude Code는 Subagent 호출 시 기본적으로 CLAUDE.md만 참조
   - COLLABORATION-RULES.md는 별도로 읽지 않음
   - 프로젝트별 문서 작성 시 전체 협업 규칙 확인 절차 부재

2. **Subagent 시스템 한계**:
   - cpp-expert, unity-expert 등 전문 Subagent들은 기본적으로 영어 중심 작업
   - 한국어 문서 작성 규칙이 Subagent에 전달되지 않음

3. **프로젝트 컨텍스트 전달 부재**:
   - Subagent 호출 시 프로젝트 특별 규칙(한글 작성) 미전달
   - 일반적인 기술 문서 작성 관례(영어) 적용

### 🛠️ 해결책

**즉시 해결 방안:**
1. **CONTROLS.md 한글 재작성**: 모든 내용을 한글로 번역하여 재작성
2. **파일명 한글화 검토**: `CONTROLS.md` → `조작법.md` 또는 `게임조작.md` 변경 고려

**시스템 개선 방안:**
1. **Subagent 호출 시 규칙 전달**: 
   - Subagent 호출 프롬프트에 "모든 문서는 한글로 작성" 명시
   - COLLABORATION-RULES.md 핵심 규칙을 Subagent에 전달

2. **Claude 작업 프로세스 개선**:
   - 프로젝트 시작 시 COLLABORATION-RULES.md 필수 확인
   - 문서 작성 전 언어 규칙 체크리스트 추가

3. **문서 생성 후 검증**:
   - 모든 .md 파일 생성 후 한글 사용 여부 자동 검증
   - 영어 문서 발견 시 자동 알림 및 재작성 요청

## 📋 개선 권고사항

### 1. 프로세스 개선
- [ ] Claude Code 한글 파일 작성 시 UTF-8 인코딩 보장 메커니즘 필요
- [ ] Subagent 호출 시 COLLABORATION-RULES.md 핵심 규칙 자동 전달
- [ ] 문서 생성 후 언어/인코딩 검증 단계 추가

### 2. 기술적 해결
- [ ] 한글 파일 처리 전용 Write 도구 개선 요청
- [ ] 문서 언어 검증 자동화 스크립트 구현
- [ ] 인코딩 문제 자동 감지 및 복구 메커니즘

### 3. 협업 규칙 강화
- [ ] CLAUDE.md에 COLLABORATION-RULES.md 참조 의무화 명시
- [ ] Subagent별 한국어 문서 작성 가이드라인 추가
- [ ] 프로젝트 시작 시 협업 규칙 전체 확인 체크리스트

## 🎯 결론

두 문제 모두 **시스템적 개선이 필요한 구조적 이슈**입니다:

1. **인코딩 문제**: Claude Code의 한글 처리 메커니즘 개선 필요
2. **언어 규칙 위반**: AI 간 협업 규칙 전달 시스템 강화 필요

단기적으로는 해당 파일들을 올바르게 재작성하고, 장기적으로는 이러한 문제가 재발하지 않도록 프로세스 개선이 필요합니다.